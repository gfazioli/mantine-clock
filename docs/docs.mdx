import { InstallScript } from './components/InstallScript/InstallScript';
import { PropsTable } from './components/PropsTable/PropsTable';
import * as demos from './demos';

export const hooksData = {
  useClock: {
    props: {
      enabled: {
        name: 'enabled',
        type: { name: 'boolean' },
        description: 'Whether the clock is active and updating',
        required: false,
        defaultValue: { value: 'true' },
      },
      timezone: {
        name: 'timezone',
        type: { name: 'string' },
        description: 'The timezone to use for the clock',
        required: false,
        defaultValue: { value: "'UTC'" },
      },
      updateFrequency: {
        name: 'updateFrequency',
        type: { name: 'number' },
        description:
          'The frequency (in milliseconds) at which the clock updates',
        required: false,
        defaultValue: { value: '1000' },
      },
      use24Hours: {
        name: 'use24Hours',
        type: { name: 'boolean' },
        description:
          'Whether to use 24-hour format or 12-hour format',
        required: false,
        defaultValue: { value: 'true' },
      },
      padSeconds: {
        name: 'padSeconds',
        type: { name: 'boolean' },
        description:
          'Whether to pad single-digit seconds with a leading zero',
        required: false,
        defaultValue: { value: 'false' },
      },
      padMinutes: {
        name: 'padMinutes',
        type: { name: 'boolean' },
        description:
          'Whether to pad single-digit minutes with a leading zero',
        required: false,
        defaultValue: { value: 'false' },
      },
      padHours: {
        name: 'padHours',
        type: { name: 'boolean' },
        description:
          'Whether to pad single-digit hours with a leading zero',
        required: false,
        defaultValue: { value: 'false' },
      },
    },
  },
  useClockCountDown: {
    props: {
      enabled: {
        name: 'enabled',
        type: { name: 'boolean' },
        description: 'Whether the countdown is active and updating',
        required: false,
        defaultValue: { value: 'true' },
      },
      timezone: {
        name: 'timezone',
        type: { name: 'string' },
        description: 'The timezone to use for countdown calculations',
        required: false,
        defaultValue: { value: "'UTC'" },
      },
      updateFrequency: {
        name: 'updateFrequency',
        type: { name: 'number' },
        description:
          'The frequency (in milliseconds) at which the countdown updates',
        required: false,
        defaultValue: { value: '1000' },
      },
      use24Hours: {
        name: 'use24Hours',
        type: { name: 'boolean' },
        description:
          'Whether to use 24-hour format or 12-hour format',
        required: false,
        defaultValue: { value: 'true' },
      },
      padSeconds: {
        name: 'padSeconds',
        type: { name: 'boolean' },
        description:
          'Whether to pad single-digit seconds with a leading zero',
        required: false,
        defaultValue: { value: 'false' },
      },
      padMinutes: {
        name: 'padMinutes',
        type: { name: 'boolean' },
        description:
          'Whether to pad single-digit minutes with a leading zero',
        required: false,
        defaultValue: { value: 'false' },
      },
      padHours: {
        name: 'padHours',
        type: { name: 'boolean' },
        description:
          'Whether to pad single-digit hours with a leading zero',
        required: false,
        defaultValue: { value: 'false' },
      },
      targetDate: {
        name: 'targetDate',
        type: { name: 'Date | string' },
        description:
          'Target date for the countdown (Date object or ISO string)',
        required: false,
        defaultValue: null,
      },
      hours: {
        name: 'hours',
        type: { name: 'number' },
        description:
          'Number of hours to count down from current time',
        required: false,
        defaultValue: { value: '0' },
      },
      minutes: {
        name: 'minutes',
        type: { name: 'number' },
        description:
          'Number of minutes to count down from current time',
        required: false,
        defaultValue: { value: '0' },
      },
      seconds: {
        name: 'seconds',
        type: { name: 'number' },
        description:
          'Number of seconds to count down from current time',
        required: false,
        defaultValue: { value: '0' },
      },
      onCountDownCompleted: {
        name: 'onCountDownCompleted',
        type: { name: 'function' },
        description:
          'Callback function called when countdown reaches zero',
        required: false,
        defaultValue: null,
      },
    },
  },
  useClockReturns: {
    props: {
      year: {
        name: 'year',
        type: { name: 'number' },
        description: 'The current year',
        required: true,
        defaultValue: null,
      },
      month: {
        name: 'month',
        type: { name: 'number' },
        description: 'The current month (1-12)',
        required: true,
        defaultValue: null,
      },
      day: {
        name: 'day',
        type: { name: 'number' },
        description: 'The current day of the month',
        required: true,
        defaultValue: null,
      },
      week: {
        name: 'week',
        type: { name: 'number' },
        description: 'The current week of the year',
        required: true,
        defaultValue: null,
      },
      isLeap: {
        name: 'isLeap',
        type: { name: 'boolean' },
        description: 'Whether the current year is a leap year',
        required: true,
        defaultValue: null,
      },
      hours: {
        name: 'hours',
        type: { name: 'number | string' },
        description:
          'The current hour (adjusted for 12/24-hour format)',
        required: true,
        defaultValue: null,
      },
      minutes: {
        name: 'minutes',
        type: { name: 'number | string' },
        description: 'The current minute',
        required: true,
        defaultValue: null,
      },
      seconds: {
        name: 'seconds',
        type: { name: 'number | string' },
        description: 'The current second',
        required: true,
        defaultValue: null,
      },
      milliseconds: {
        name: 'milliseconds',
        type: { name: 'number' },
        description: 'The current millisecond',
        required: true,
        defaultValue: null,
      },
      amPm: {
        name: 'amPm',
        type: { name: "'AM' | 'PM' | undefined" },
        description:
          'Whether the time is AM or PM (only when use24Hours is false)',
        required: true,
        defaultValue: null,
      },
      isRunning: {
        name: 'isRunning',
        type: { name: 'boolean' },
        description:
          'Whether the clock is currently running and updating',
        required: true,
        defaultValue: null,
      },
      start: {
        name: 'start',
        type: { name: 'function' },
        description: 'Function to start the clock',
        required: true,
        defaultValue: null,
      },
      pause: {
        name: 'pause',
        type: { name: 'function' },
        description: 'Function to pause the clock',
        required: true,
        defaultValue: null,
      },
      resume: {
        name: 'resume',
        type: { name: 'function' },
        description: 'Function to resume a paused clock',
        required: true,
        defaultValue: null,
      },
      reset: {
        name: 'reset',
        type: { name: 'function' },
        description:
          'Function to reset the clock to its initial state',
        required: true,
        defaultValue: null,
      },
    },
  },
  useClockCountDownReturns: {
    props: {
      year: {
        name: 'year',
        type: { name: 'number' },
        description: 'The remaining years',
        required: true,
        defaultValue: null,
      },
      month: {
        name: 'month',
        type: { name: 'number' },
        description: 'The remaining months (1-12)',
        required: true,
        defaultValue: null,
      },
      day: {
        name: 'day',
        type: { name: 'number' },
        description: 'The remaining days',
        required: true,
        defaultValue: null,
      },
      week: {
        name: 'week',
        type: { name: 'number' },
        description: 'The remaining weeks',
        required: true,
        defaultValue: null,
      },
      isLeap: {
        name: 'isLeap',
        type: { name: 'boolean' },
        description: 'Whether the target year is a leap year',
        required: true,
        defaultValue: null,
      },
      hours: {
        name: 'hours',
        type: { name: 'number | string' },
        description:
          'The remaining hours (adjusted for 12/24-hour format)',
        required: true,
        defaultValue: null,
      },
      minutes: {
        name: 'minutes',
        type: { name: 'number | string' },
        description: 'The remaining minutes',
        required: true,
        defaultValue: null,
      },
      seconds: {
        name: 'seconds',
        type: { name: 'number | string' },
        description: 'The remaining seconds',
        required: true,
        defaultValue: null,
      },
      milliseconds: {
        name: 'milliseconds',
        type: { name: 'number' },
        description: 'The remaining milliseconds',
        required: true,
        defaultValue: null,
      },
      amPm: {
        name: 'amPm',
        type: { name: "'AM' | 'PM' | undefined" },
        description:
          'Whether the time is AM or PM (only when use24Hours is false)',
        required: true,
        defaultValue: null,
      },
      isCompleted: {
        name: 'isCompleted',
        type: { name: 'boolean' },
        description:
          'Whether the countdown has completed (reached zero)',
        required: true,
        defaultValue: null,
      },
      isRunning: {
        name: 'isRunning',
        type: { name: 'boolean' },
        description: 'Whether the countdown is currently running',
        required: true,
        defaultValue: null,
      },
      totalMilliseconds: {
        name: 'totalMilliseconds',
        type: { name: 'number' },
        description: 'Total remaining time in milliseconds',
        required: true,
        defaultValue: null,
      },
      start: {
        name: 'start',
        type: { name: 'function' },
        description: 'Function to start the countdown',
        required: true,
        defaultValue: null,
      },
      pause: {
        name: 'pause',
        type: { name: 'function' },
        description: 'Function to pause the countdown',
        required: true,
        defaultValue: null,
      },
      resume: {
        name: 'resume',
        type: { name: 'function' },
        description: 'Function to resume a paused countdown',
        required: true,
        defaultValue: null,
      },
      reset: {
        name: 'reset',
        type: { name: 'function' },
        description:
          'Function to reset the countdown to its initial state',
        required: true,
        defaultValue: null,
      },
    },
  },
};

## Installation

<InstallScript packages="@gfazioli/mantine-clock" />

After installation import package styles at the root of your application:

```tsx
import '@gfazioli/mantine-clock/styles.css';
```

You can import styles within a layer `@layer mantine-clock` by importing `@gfazioli/mantine-clock/styles.layer.css` file.

```tsx
import '@gfazioli/mantine-clock/styles.layer.css';
```

## Usage

The `Clock` component displays a clock with customizable hands, ticks, and numbers.

<Demo data={demos.configurator} />

## Static Clock with Value

The `Clock` component can display a static time using the `value` prop. When `running` is set to `false`, the clock will show the specified time without animation. If no `value` is provided, it displays the current time. The `value` prop accepts time strings in various formats or Date objects.

<Demo data={demos.staticValue} />

## Running Clock with Initial Value

You can also set an initial time value for a running clock. The clock will start from the specified time and continue running in real time.

<Demo data={demos.runningValue} />

## Clock Hands

The `Clock` component allows you to customize the appearance of the clock hands. You can set the color, size, and other properties of the hour, minute, and second hands.

<Demo data={demos.hands} />

## Clock Numbers

The `Clock` component can display numbers on the clock face. You can customize the font size, color, and visibility of the numbers.

<Demo data={demos.numbers} />

## Clock Number Fonts

The `Clock` component supports custom fonts for the numbers displayed on the clock face. You can choose from various font styles to match your design preferences.

<Demo data={demos.numberFonts} />

## Arcs aligned to hands

The `Clock` component can render sector arcs aligned with the current positions of seconds, minutes, and hours hands. Each arc:

- Starts from a reference time (`secondsArcFrom`, `minutesArcFrom`, `hoursArcFrom`)
- Ends at the current hand position
- Supports direction: `clockwise` or `counterClockwise`
- Has independent color and opacity
- Uses the corresponding hand length for its radius, so arcs never exceed the hand

Enable with the following props:

- `withSecondsArc`, `secondsArcFrom`, `secondsArcDirection`, `secondsArcColor`, `secondsArcOpacity`
- `withMinutesArc`, `minutesArcFrom`, `minutesArcDirection`, `minutesArcColor`, `minutesArcOpacity`
- `withHoursArc`, `hoursArcFrom`, `hoursArcDirection`, `hoursArcColor`, `hoursArcOpacity`

<Demo data={demos.arcs} />

> **Note**: — Arc start props: precision and accepted formats
>
> - secondsArcFrom
>   - Precision: seconds.
>   - Accepted: string "HH:mm:ss" or Date.
>   - Parsing: only the seconds field determines the start on the seconds dial (0–59). Hours and minutes in the string are ignored for this arc. With Date, the start second is taken from the Date in the clock timezone.
>   - Examples: "12:00:45" -> 45s mark; new Date('2025-08-26T10:00:30Z') -> 30s mark (in the component timezone).
> - minutesArcFrom
>   - Precision: minutes with optional fractional part from seconds.
>   - Accepted: string "HH:mm" or "HH:mm:ss", or Date.
>   - Parsing: start minute = mm + (ss/60 when seconds present). Hours are ignored. With Date, start minute = minutes + seconds/60 in the clock timezone.
>   - Examples: "12:07" -> 7-minute mark; "12:07:30" -> 7.5-minute mark.
> - hoursArcFrom
>   - Precision: hour-hand position on a 12-hour dial with fractional offset from minutes (and seconds if provided).
>   - Accepted: string "HH:mm" or "HH:mm:ss", or Date.
>   - Parsing: start hour = (HH % 12) + (mm/60) + (ss/3600). With Date, values are read in the clock timezone.
>   - Examples: "12:10" -> slightly past 12 (10 minutes shifts the start by 10/60 of the hour); "3:30" -> halfway between 3 and 4; "15:00" -> same as "3:00".
> - Timezone
>   - Date inputs are interpreted in the component’s timezone (timezone prop). Time strings are treated as literal time-of-day fields according to the rules above (not absolute timestamps).
> - Validation
>   - Ranges: HH 0–23 (wrapped to 12h), mm 0–59, ss 0–59. Invalid strings are ignored—use strict formats with optional leading zeros.

## Styling with ClassNames

The `Clock` component supports extensive customization through the `classNames` prop, allowing you to style every part of the clock using CSS modules or custom CSS classes. This approach gives you complete control over the clock's appearance.

### Available ClassNames

The `Clock` component exposes the following classNames for styling:

- `root` - Root element of the clock component
- `clockContainer` - Main clock container
- `glassWrapper` - Glass wrapper with shadow effects
- `clockFace` - Clock face containing all visual elements
- `hourMarks` - Container for hour marks and numbers
- `hourTick` - Hour tick marks (12 positions)
- `minuteTick` - Minute tick marks (60 positions, excluding hour positions)
- `number` - Base styles for hour numbers (1-12)
- `primaryNumber` - Primary hour numbers (12, 3, 6, 9)
- `secondaryNumber` - Secondary hour numbers (1, 2, 4, 5, 7, 8, 10, 11)
- `hand` - Base styles for clock hands
- `hourHand` - Hour hand specific styles
- `minuteHand` - Minute hand specific styles
- `secondHandContainer` - Container for second hand and counterweight
- `secondHand` - Second hand specific styles
- `secondHandCounterweight` - Second hand counterweight
- `centerBlur` - Center blur effect
- `centerDot` - Center dot at the pivot point

### Neon Theme Example

The following example demonstrates a complete custom theme using CSS modules with neon effects, animations, and modern styling techniques:

<Demo data={demos.classNames} />

## Timezone Support

The `Clock` component supports displaying time in different timezones around the world. Use the `timezone` prop to specify a timezone string, allowing you to create world clocks or display time for specific regions.

<Demo data={demos.timezone} />

### World Clocks Example

Here's an example showing multiple clocks displaying time in different regions simultaneously:

<Demo data={demos.worldClocks} />

### Supported Timezones

The timezone prop accepts any valid IANA timezone identifier. Some common examples include:

- **UTC**: `'UTC'` - Coordinated Universal Time
- **Americas**: `'America/New_York'`, `'America/Los_Angeles'`, `'America/Chicago'`, `'America/Toronto'`
- **Europe**: `'Europe/London'`, `'Europe/Berlin'`, `'Europe/Paris'`, `'Europe/Rome'`
- **Asia**: `'Asia/Tokyo'`, `'Asia/Shanghai'`, `'Asia/Singapore'`, `'Asia/Dubai'`
- **Oceania**: `'Australia/Sydney'`, `'Australia/Melbourne'`, `'Pacific/Auckland'`

When no timezone is specified, the clock displays the local time of the user's system.

### Usage Examples

```tsx
import { Clock } from '@gfazioli/mantine-clock';

function Demo() {
  return (
    <div>
      {/* Display Tokyo time */}
      <Clock timezone="Asia/Tokyo" />

      {/* Display New York time */}
      <Clock timezone="America/New_York" />

      {/* Display UTC time */}
      <Clock timezone="UTC" />

      {/* Display local time (default) */}
      <Clock />
    </div>
  );
}
```

## Hooks

### useClock Hook

The `useClock` hook provides real-time clock data with support for timezones, formatting options, and update frequency control. This hook is perfect for creating digital clocks, displaying time information, or building custom time-based components.

<Demo data={demos.useClockBasic} />

#### World Clocks with useClock

You can use multiple instances of the `useClock` hook to display time in different timezones simultaneously:

<Demo data={demos.useClockWorldClocks} />

#### useClock API

The `useClock` hook accepts the following options:

<PropsTable component="useClock" query="" data={hooksData} />

The hook returns an object with the following properties:

<PropsTable component="useClockReturns" query="" data={hooksData} />

#### Use case with Clock component

While `useClock` reports the current time, you can still build a "start from a specific time" experience by treating the hook as a ticker and managing the displayed time in local state.

This demo lets you pick hours, minutes, and seconds, then control the flow with Start, Pause, Resume and Reset. The `Clock` component receives the formatted `HH:MM:SS` value from state, while `useClock` provides a 1-second heartbeat and control methods.

Key ideas:

- `useClock({ enabled: false, updateFrequency: 1000 })` acts as a metronome when running.
- Inputs set the displayed time while paused; during run, state advances every tick.
- Reset returns the display to the selected inputs.

<Demo data={demos.useClockSpecificTime} />

### useClockCountDown Hook

The `useClockCountDown` hook provides real-time countdown functionality with support for target dates, duration-based countdowns, and completion callbacks. Perfect for creating countdown timers, event countdowns, or deadline trackers.

<Demo data={demos.useClockCountDownInteractive} />

#### Countdown to Specific Dates

You can create countdowns to specific target dates using the `targetDate` option:

<Demo data={demos.useClockCountDownTargetDates} />

#### useClockCountDown API

The `useClockCountDown` hook accepts the following options:

<PropsTable component="useClockCountDown" query="" data={hooksData} />

The hook returns an object with the following properties:

<PropsTable
  component="useClockCountDownReturns"
  query=""
  data={hooksData}
/>

#### Use case with Clock component

This demo showcases how to create a reverse countdown clock by combining the `Clock` component with the `useClockCountDown` hook. The clock displays the remaining time visually as it counts down, creating a unique reverse clock effect. The clock hands move backwards as time decreases, and the appearance changes when the countdown is completed.

<Demo data={demos.reverseCountdown} />
